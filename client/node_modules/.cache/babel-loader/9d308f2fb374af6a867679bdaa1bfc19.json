{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.anykey = exports.confirm = exports.prompt = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nconst Errors = (0, tslib_1.__importStar)(require(\"@oclif/core/lib/errors\"));\nconst chalk_1 = (0, tslib_1.__importDefault)(require(\"chalk\"));\nconst config_1 = (0, tslib_1.__importDefault)(require(\"./config\"));\nconst deps_1 = (0, tslib_1.__importDefault)(require(\"./deps\"));\n\nfunction normal(options, retries = 100) {\n  if (retries < 0) throw new Error('no input');\n  return new Promise((resolve, reject) => {\n    let timer;\n\n    if (options.timeout) {\n      timer = setTimeout(() => {\n        process.stdin.pause();\n        reject(new Error('Prompt timeout'));\n      }, options.timeout);\n      timer.unref();\n    }\n\n    process.stdin.setEncoding('utf8');\n    process.stderr.write(options.prompt);\n    process.stdin.resume();\n    process.stdin.once('data', data => {\n      if (timer) clearTimeout(timer);\n      process.stdin.pause();\n      data = data.trim();\n\n      if (!options.default && options.required && data === '') {\n        resolve(normal(options, retries - 1));\n      } else {\n        resolve(data || options.default);\n      }\n    });\n  });\n}\n\nfunction getPrompt(name, type, defaultValue) {\n  let prompt = '> ';\n\n  if (defaultValue && type === 'hide') {\n    defaultValue = '*'.repeat(defaultValue.length);\n  }\n\n  if (name && defaultValue) prompt = name + ' ' + chalk_1.default.yellow('[' + defaultValue + ']') + ': ';else if (name) prompt = `${name}: `;\n  return prompt;\n}\n\nasync function single(options) {\n  var _a;\n\n  const raw = process.stdin.isRaw;\n  if (process.stdin.setRawMode) process.stdin.setRawMode(true);\n  options.required = (_a = options.required) !== null && _a !== void 0 ? _a : false;\n  const response = await normal(options);\n  if (process.stdin.setRawMode) process.stdin.setRawMode(Boolean(raw));\n  return response;\n}\n\nfunction replacePrompt(prompt) {\n  process.stderr.write(deps_1.default.ansiEscapes.cursorHide + deps_1.default.ansiEscapes.cursorUp(1) + deps_1.default.ansiEscapes.cursorLeft + prompt + deps_1.default.ansiEscapes.cursorDown(1) + deps_1.default.ansiEscapes.cursorLeft + deps_1.default.ansiEscapes.cursorShow);\n}\n\nfunction _prompt(name, inputOptions = {}) {\n  const prompt = getPrompt(name, inputOptions.type, inputOptions.default);\n  const options = Object.assign({\n    isTTY: Boolean(process.env.TERM !== 'dumb' && process.stdin.isTTY),\n    name,\n    prompt,\n    type: 'normal',\n    required: true,\n    default: ''\n  }, inputOptions);\n\n  switch (options.type) {\n    case 'normal':\n      return normal(options);\n\n    case 'single':\n      return single(options);\n\n    case 'mask':\n      return deps_1.default.passwordPrompt(options.prompt, {\n        method: options.type,\n        required: options.required,\n        default: options.default\n      }).then(value => {\n        replacePrompt(getPrompt(name, 'hide', inputOptions.default));\n        return value;\n      });\n\n    case 'hide':\n      return deps_1.default.passwordPrompt(options.prompt, {\n        method: options.type,\n        required: options.required,\n        default: options.default\n      });\n\n    default:\n      throw new Error(`unexpected type ${options.type}`);\n  }\n}\n/**\n * prompt for input\n */\n\n\nfunction prompt(name, options = {}) {\n  return config_1.default.action.pauseAsync(() => {\n    return _prompt(name, options);\n  }, chalk_1.default.cyan('?'));\n}\n\nexports.prompt = prompt;\n/**\n * confirmation prompt (yes/no)\n */\n\nfunction confirm(message) {\n  return config_1.default.action.pauseAsync(async () => {\n    const confirm = async () => {\n      const response = (await _prompt(message)).toLowerCase();\n      if (['n', 'no'].includes(response)) return false;\n      if (['y', 'yes'].includes(response)) return true;\n      return confirm();\n    };\n\n    return confirm();\n  }, chalk_1.default.cyan('?'));\n}\n\nexports.confirm = confirm;\n/**\n * \"press anykey to continue\"\n */\n\nasync function anykey(message) {\n  const tty = Boolean(process.stdin.setRawMode);\n\n  if (!message) {\n    message = tty ? `Press any key to continue or ${chalk_1.default.yellow('q')} to exit` : `Press enter to continue or ${chalk_1.default.yellow('q')} to exit`;\n  }\n\n  const char = await prompt(message, {\n    type: 'single',\n    required: false\n  });\n  if (tty) process.stderr.write('\\n');\n  if (char === 'q') Errors.error('quit');\n  if (char === '\\u0003') Errors.error('ctrl-c');\n  return char;\n}\n\nexports.anykey = anykey;","map":{"version":3,"names":["Object","defineProperty","exports","value","anykey","confirm","prompt","tslib_1","require","Errors","__importStar","chalk_1","__importDefault","config_1","deps_1","normal","options","retries","Error","Promise","resolve","reject","timer","timeout","setTimeout","process","stdin","pause","unref","setEncoding","stderr","write","resume","once","data","clearTimeout","trim","default","required","getPrompt","name","type","defaultValue","repeat","length","yellow","single","_a","raw","isRaw","setRawMode","response","Boolean","replacePrompt","ansiEscapes","cursorHide","cursorUp","cursorLeft","cursorDown","cursorShow","_prompt","inputOptions","assign","isTTY","env","TERM","passwordPrompt","method","then","action","pauseAsync","cyan","message","toLowerCase","includes","tty","char","error"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/cli-ux/lib/prompt.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.anykey = exports.confirm = exports.prompt = void 0;\nconst tslib_1 = require(\"tslib\");\nconst Errors = (0, tslib_1.__importStar)(require(\"@oclif/core/lib/errors\"));\nconst chalk_1 = (0, tslib_1.__importDefault)(require(\"chalk\"));\nconst config_1 = (0, tslib_1.__importDefault)(require(\"./config\"));\nconst deps_1 = (0, tslib_1.__importDefault)(require(\"./deps\"));\nfunction normal(options, retries = 100) {\n    if (retries < 0)\n        throw new Error('no input');\n    return new Promise((resolve, reject) => {\n        let timer;\n        if (options.timeout) {\n            timer = setTimeout(() => {\n                process.stdin.pause();\n                reject(new Error('Prompt timeout'));\n            }, options.timeout);\n            timer.unref();\n        }\n        process.stdin.setEncoding('utf8');\n        process.stderr.write(options.prompt);\n        process.stdin.resume();\n        process.stdin.once('data', data => {\n            if (timer)\n                clearTimeout(timer);\n            process.stdin.pause();\n            data = data.trim();\n            if (!options.default && options.required && data === '') {\n                resolve(normal(options, retries - 1));\n            }\n            else {\n                resolve(data || options.default);\n            }\n        });\n    });\n}\nfunction getPrompt(name, type, defaultValue) {\n    let prompt = '> ';\n    if (defaultValue && type === 'hide') {\n        defaultValue = '*'.repeat(defaultValue.length);\n    }\n    if (name && defaultValue)\n        prompt = name + ' ' + chalk_1.default.yellow('[' + defaultValue + ']') + ': ';\n    else if (name)\n        prompt = `${name}: `;\n    return prompt;\n}\nasync function single(options) {\n    var _a;\n    const raw = process.stdin.isRaw;\n    if (process.stdin.setRawMode)\n        process.stdin.setRawMode(true);\n    options.required = (_a = options.required) !== null && _a !== void 0 ? _a : false;\n    const response = await normal(options);\n    if (process.stdin.setRawMode)\n        process.stdin.setRawMode(Boolean(raw));\n    return response;\n}\nfunction replacePrompt(prompt) {\n    process.stderr.write(deps_1.default.ansiEscapes.cursorHide + deps_1.default.ansiEscapes.cursorUp(1) + deps_1.default.ansiEscapes.cursorLeft + prompt +\n        deps_1.default.ansiEscapes.cursorDown(1) + deps_1.default.ansiEscapes.cursorLeft + deps_1.default.ansiEscapes.cursorShow);\n}\nfunction _prompt(name, inputOptions = {}) {\n    const prompt = getPrompt(name, inputOptions.type, inputOptions.default);\n    const options = Object.assign({ isTTY: Boolean(process.env.TERM !== 'dumb' && process.stdin.isTTY), name,\n        prompt, type: 'normal', required: true, default: '' }, inputOptions);\n    switch (options.type) {\n        case 'normal':\n            return normal(options);\n        case 'single':\n            return single(options);\n        case 'mask':\n            return deps_1.default.passwordPrompt(options.prompt, {\n                method: options.type,\n                required: options.required,\n                default: options.default,\n            }).then((value) => {\n                replacePrompt(getPrompt(name, 'hide', inputOptions.default));\n                return value;\n            });\n        case 'hide':\n            return deps_1.default.passwordPrompt(options.prompt, {\n                method: options.type,\n                required: options.required,\n                default: options.default,\n            });\n        default:\n            throw new Error(`unexpected type ${options.type}`);\n    }\n}\n/**\n * prompt for input\n */\nfunction prompt(name, options = {}) {\n    return config_1.default.action.pauseAsync(() => {\n        return _prompt(name, options);\n    }, chalk_1.default.cyan('?'));\n}\nexports.prompt = prompt;\n/**\n * confirmation prompt (yes/no)\n */\nfunction confirm(message) {\n    return config_1.default.action.pauseAsync(async () => {\n        const confirm = async () => {\n            const response = (await _prompt(message)).toLowerCase();\n            if (['n', 'no'].includes(response))\n                return false;\n            if (['y', 'yes'].includes(response))\n                return true;\n            return confirm();\n        };\n        return confirm();\n    }, chalk_1.default.cyan('?'));\n}\nexports.confirm = confirm;\n/**\n * \"press anykey to continue\"\n */\nasync function anykey(message) {\n    const tty = Boolean(process.stdin.setRawMode);\n    if (!message) {\n        message = tty ?\n            `Press any key to continue or ${chalk_1.default.yellow('q')} to exit` :\n            `Press enter to continue or ${chalk_1.default.yellow('q')} to exit`;\n    }\n    const char = await prompt(message, { type: 'single', required: false });\n    if (tty)\n        process.stderr.write('\\n');\n    if (char === 'q')\n        Errors.error('quit');\n    if (char === '\\u0003')\n        Errors.error('ctrl-c');\n    return char;\n}\nexports.anykey = anykey;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}