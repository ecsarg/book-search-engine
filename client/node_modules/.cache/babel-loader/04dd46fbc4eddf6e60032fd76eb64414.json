{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handle = void 0;\n/* eslint-disable no-process-exit */\n\n/* eslint-disable unicorn/no-process-exit */\n\nconst config_1 = require(\"./config\");\n\nconst pretty_print_1 = require(\"./errors/pretty-print\");\n\nconst _1 = require(\".\");\n\nconst clean = require(\"clean-stack\");\n\nconst cli_1 = require(\"./errors/cli\");\n\nconst handle = err => {\n  try {\n    var _err$oclif, _err$oclif2, _err$oclif3;\n\n    if (!err) err = new cli_1.CLIError('no error?');\n    if (err.message === 'SIGINT') process.exit(1);\n    const shouldPrint = !(err instanceof _1.ExitError);\n    const pretty = (0, pretty_print_1.default)(err);\n    const stack = clean(err.stack || '', {\n      pretty: true\n    });\n\n    if (shouldPrint) {\n      console.error(pretty ? pretty : stack);\n    }\n\n    const exitCode = ((_err$oclif = err.oclif) === null || _err$oclif === void 0 ? void 0 : _err$oclif.exit) !== undefined && ((_err$oclif2 = err.oclif) === null || _err$oclif2 === void 0 ? void 0 : _err$oclif2.exit) !== false ? (_err$oclif3 = err.oclif) === null || _err$oclif3 === void 0 ? void 0 : _err$oclif3.exit : 1;\n\n    if (config_1.config.errorLogger && err.code !== 'EEXIT') {\n      if (stack) {\n        config_1.config.errorLogger.log(stack);\n      }\n\n      config_1.config.errorLogger.flush().then(() => process.exit(exitCode)).catch(console.error);\n    } else process.exit(exitCode);\n  } catch (error) {\n    console.error(err.stack);\n    console.error(error.stack);\n    process.exit(1);\n  }\n};\n\nexports.handle = handle;","map":{"version":3,"names":["Object","defineProperty","exports","value","handle","config_1","require","pretty_print_1","_1","clean","cli_1","err","CLIError","message","process","exit","shouldPrint","ExitError","pretty","default","stack","console","error","exitCode","oclif","undefined","config","errorLogger","code","log","flush","then","catch"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/@oclif/core/lib/errors/handle.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handle = void 0;\n/* eslint-disable no-process-exit */\n/* eslint-disable unicorn/no-process-exit */\nconst config_1 = require(\"./config\");\nconst pretty_print_1 = require(\"./errors/pretty-print\");\nconst _1 = require(\".\");\nconst clean = require(\"clean-stack\");\nconst cli_1 = require(\"./errors/cli\");\nconst handle = (err) => {\n    try {\n        if (!err)\n            err = new cli_1.CLIError('no error?');\n        if (err.message === 'SIGINT')\n            process.exit(1);\n        const shouldPrint = !(err instanceof _1.ExitError);\n        const pretty = (0, pretty_print_1.default)(err);\n        const stack = clean(err.stack || '', { pretty: true });\n        if (shouldPrint) {\n            console.error(pretty ? pretty : stack);\n        }\n        const exitCode = err.oclif?.exit !== undefined && err.oclif?.exit !== false ? err.oclif?.exit : 1;\n        if (config_1.config.errorLogger && err.code !== 'EEXIT') {\n            if (stack) {\n                config_1.config.errorLogger.log(stack);\n            }\n            config_1.config.errorLogger.flush()\n                .then(() => process.exit(exitCode))\n                .catch(console.error);\n        }\n        else\n            process.exit(exitCode);\n    }\n    catch (error) {\n        console.error(err.stack);\n        console.error(error.stack);\n        process.exit(1);\n    }\n};\nexports.handle = handle;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiB,KAAK,CAAtB;AACA;;AACA;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,uBAAD,CAA9B;;AACA,MAAME,EAAE,GAAGF,OAAO,CAAC,GAAD,CAAlB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,aAAD,CAArB;;AACA,MAAMI,KAAK,GAAGJ,OAAO,CAAC,cAAD,CAArB;;AACA,MAAMF,MAAM,GAAIO,GAAD,IAAS;EACpB,IAAI;IAAA;;IACA,IAAI,CAACA,GAAL,EACIA,GAAG,GAAG,IAAID,KAAK,CAACE,QAAV,CAAmB,WAAnB,CAAN;IACJ,IAAID,GAAG,CAACE,OAAJ,KAAgB,QAApB,EACIC,OAAO,CAACC,IAAR,CAAa,CAAb;IACJ,MAAMC,WAAW,GAAG,EAAEL,GAAG,YAAYH,EAAE,CAACS,SAApB,CAApB;IACA,MAAMC,MAAM,GAAG,CAAC,GAAGX,cAAc,CAACY,OAAnB,EAA4BR,GAA5B,CAAf;IACA,MAAMS,KAAK,GAAGX,KAAK,CAACE,GAAG,CAACS,KAAJ,IAAa,EAAd,EAAkB;MAAEF,MAAM,EAAE;IAAV,CAAlB,CAAnB;;IACA,IAAIF,WAAJ,EAAiB;MACbK,OAAO,CAACC,KAAR,CAAcJ,MAAM,GAAGA,MAAH,GAAYE,KAAhC;IACH;;IACD,MAAMG,QAAQ,GAAG,eAAAZ,GAAG,CAACa,KAAJ,0DAAWT,IAAX,MAAoBU,SAApB,IAAiC,gBAAAd,GAAG,CAACa,KAAJ,4DAAWT,IAAX,MAAoB,KAArD,kBAA6DJ,GAAG,CAACa,KAAjE,gDAA6D,YAAWT,IAAxE,GAA+E,CAAhG;;IACA,IAAIV,QAAQ,CAACqB,MAAT,CAAgBC,WAAhB,IAA+BhB,GAAG,CAACiB,IAAJ,KAAa,OAAhD,EAAyD;MACrD,IAAIR,KAAJ,EAAW;QACPf,QAAQ,CAACqB,MAAT,CAAgBC,WAAhB,CAA4BE,GAA5B,CAAgCT,KAAhC;MACH;;MACDf,QAAQ,CAACqB,MAAT,CAAgBC,WAAhB,CAA4BG,KAA5B,GACKC,IADL,CACU,MAAMjB,OAAO,CAACC,IAAR,CAAaQ,QAAb,CADhB,EAEKS,KAFL,CAEWX,OAAO,CAACC,KAFnB;IAGH,CAPD,MASIR,OAAO,CAACC,IAAR,CAAaQ,QAAb;EACP,CAtBD,CAuBA,OAAOD,KAAP,EAAc;IACVD,OAAO,CAACC,KAAR,CAAcX,GAAG,CAACS,KAAlB;IACAC,OAAO,CAACC,KAAR,CAAcA,KAAK,CAACF,KAApB;IACAN,OAAO,CAACC,IAAR,CAAa,CAAb;EACH;AACJ,CA7BD;;AA8BAb,OAAO,CAACE,MAAR,GAAiBA,MAAjB"},"metadata":{},"sourceType":"script"}