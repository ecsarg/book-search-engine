{"ast":null,"code":"'use strict';\n\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (fn, opts) => {\n  // TODO: Remove this in v3\n  if (opts === true) {\n    throw new TypeError('The second argument is now an options object');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  opts = opts || {};\n  let ret;\n  let called = false;\n  const fnName = fn.displayName || fn.name || '<anonymous>';\n\n  const onetime = function () {\n    if (called) {\n      if (opts.throw === true) {\n        throw new Error(`Function \\`${fnName}\\` can only be called once`);\n      }\n\n      return ret;\n    }\n\n    called = true;\n    ret = fn.apply(this, arguments);\n    fn = null;\n    return ret;\n  };\n\n  mimicFn(onetime, fn);\n  return onetime;\n};","map":{"version":3,"names":["mimicFn","require","module","exports","fn","opts","TypeError","ret","called","fnName","displayName","name","onetime","throw","Error","apply","arguments"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/listr-verbose-renderer/node_modules/onetime/index.js"],"sourcesContent":["'use strict';\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (fn, opts) => {\n\t// TODO: Remove this in v3\n\tif (opts === true) {\n\t\tthrow new TypeError('The second argument is now an options object');\n\t}\n\n\tif (typeof fn !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\topts = opts || {};\n\n\tlet ret;\n\tlet called = false;\n\tconst fnName = fn.displayName || fn.name || '<anonymous>';\n\n\tconst onetime = function () {\n\t\tif (called) {\n\t\t\tif (opts.throw === true) {\n\t\t\t\tthrow new Error(`Function \\`${fnName}\\` can only be called once`);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tcalled = true;\n\t\tret = fn.apply(this, arguments);\n\t\tfn = null;\n\n\t\treturn ret;\n\t};\n\n\tmimicFn(onetime, fn);\n\n\treturn onetime;\n};\n"],"mappings":"AAAA;;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,EAAD,EAAKC,IAAL,KAAc;EAC9B;EACA,IAAIA,IAAI,KAAK,IAAb,EAAmB;IAClB,MAAM,IAAIC,SAAJ,CAAc,8CAAd,CAAN;EACA;;EAED,IAAI,OAAOF,EAAP,KAAc,UAAlB,EAA8B;IAC7B,MAAM,IAAIE,SAAJ,CAAc,qBAAd,CAAN;EACA;;EAEDD,IAAI,GAAGA,IAAI,IAAI,EAAf;EAEA,IAAIE,GAAJ;EACA,IAAIC,MAAM,GAAG,KAAb;EACA,MAAMC,MAAM,GAAGL,EAAE,CAACM,WAAH,IAAkBN,EAAE,CAACO,IAArB,IAA6B,aAA5C;;EAEA,MAAMC,OAAO,GAAG,YAAY;IAC3B,IAAIJ,MAAJ,EAAY;MACX,IAAIH,IAAI,CAACQ,KAAL,KAAe,IAAnB,EAAyB;QACxB,MAAM,IAAIC,KAAJ,CAAW,cAAaL,MAAO,4BAA/B,CAAN;MACA;;MAED,OAAOF,GAAP;IACA;;IAEDC,MAAM,GAAG,IAAT;IACAD,GAAG,GAAGH,EAAE,CAACW,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAN;IACAZ,EAAE,GAAG,IAAL;IAEA,OAAOG,GAAP;EACA,CAdD;;EAgBAP,OAAO,CAACY,OAAD,EAAUR,EAAV,CAAP;EAEA,OAAOQ,OAAP;AACA,CAnCD"},"metadata":{},"sourceType":"script"}