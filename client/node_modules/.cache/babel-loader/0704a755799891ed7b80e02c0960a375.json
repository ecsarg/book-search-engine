{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst tslib_1 = require(\"tslib\"); // this code is largely taken from opn\n\n\nconst childProcess = (0, tslib_1.__importStar)(require(\"child_process\"));\n\nconst isWsl = require('is-wsl');\n\nfunction open(target, opts = {}) {\n  // opts = {wait: true, ...opts}\n  let cmd;\n  let appArgs = [];\n  let args = [];\n  const cpOpts = {};\n\n  if (Array.isArray(opts.app)) {\n    appArgs = opts.app.slice(1);\n    opts.app = opts.app[0];\n  }\n\n  if (process.platform === 'darwin') {\n    cmd = 'open'; // if (opts.wait) {\n    //   args.push('-W')\n    // }\n\n    if (opts.app) {\n      args.push('-a', opts.app);\n    }\n  } else if (process.platform === 'win32' || isWsl) {\n    cmd = 'cmd' + (isWsl ? '.exe' : '');\n    args.push('/c', 'start', '\"\"', '/b');\n    target = target.replace(/&/g, '^&'); // if (opts.wait) {\n    //   args.push('/wait')\n    // }\n\n    if (opts.app) {\n      args.push(opts.app);\n    }\n\n    if (appArgs.length > 0) {\n      args = [...args, ...appArgs];\n    }\n  } else {\n    cmd = opts.app ? opts.app : 'xdg-open';\n\n    if (appArgs.length > 0) {\n      args = [...args, ...appArgs];\n    } // if (!opts.wait) {\n    // `xdg-open` will block the process unless\n    // stdio is ignored and it's detached from the parent\n    // even if it's unref'd\n\n\n    cpOpts.stdio = 'ignore';\n    cpOpts.detached = true; // }\n  }\n\n  args.push(target);\n\n  if (process.platform === 'darwin' && appArgs.length > 0) {\n    args.push('--args');\n    args = [...args, ...appArgs];\n  }\n\n  const cp = childProcess.spawn(cmd, args, cpOpts);\n  return new Promise((resolve, reject) => {\n    cp.once('error', reject);\n    cp.once('close', code => {\n      if (code > 0) {\n        reject(new Error('Exited with code ' + code));\n        return;\n      }\n\n      resolve(cp);\n    });\n  });\n}\n\nexports.default = open;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","childProcess","__importStar","isWsl","open","target","opts","cmd","appArgs","args","cpOpts","Array","isArray","app","slice","process","platform","push","replace","length","stdio","detached","cp","spawn","Promise","resolve","reject","once","code","Error","default"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/cli-ux/lib/open.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\n// this code is largely taken from opn\nconst childProcess = (0, tslib_1.__importStar)(require(\"child_process\"));\nconst isWsl = require('is-wsl');\nfunction open(target, opts = {}) {\n    // opts = {wait: true, ...opts}\n    let cmd;\n    let appArgs = [];\n    let args = [];\n    const cpOpts = {};\n    if (Array.isArray(opts.app)) {\n        appArgs = opts.app.slice(1);\n        opts.app = opts.app[0];\n    }\n    if (process.platform === 'darwin') {\n        cmd = 'open';\n        // if (opts.wait) {\n        //   args.push('-W')\n        // }\n        if (opts.app) {\n            args.push('-a', opts.app);\n        }\n    }\n    else if (process.platform === 'win32' || isWsl) {\n        cmd = 'cmd' + (isWsl ? '.exe' : '');\n        args.push('/c', 'start', '\"\"', '/b');\n        target = target.replace(/&/g, '^&');\n        // if (opts.wait) {\n        //   args.push('/wait')\n        // }\n        if (opts.app) {\n            args.push(opts.app);\n        }\n        if (appArgs.length > 0) {\n            args = [...args, ...appArgs];\n        }\n    }\n    else {\n        cmd = opts.app ? opts.app : 'xdg-open';\n        if (appArgs.length > 0) {\n            args = [...args, ...appArgs];\n        }\n        // if (!opts.wait) {\n        // `xdg-open` will block the process unless\n        // stdio is ignored and it's detached from the parent\n        // even if it's unref'd\n        cpOpts.stdio = 'ignore';\n        cpOpts.detached = true;\n        // }\n    }\n    args.push(target);\n    if (process.platform === 'darwin' && appArgs.length > 0) {\n        args.push('--args');\n        args = [...args, ...appArgs];\n    }\n    const cp = childProcess.spawn(cmd, args, cpOpts);\n    return new Promise((resolve, reject) => {\n        cp.once('error', reject);\n        cp.once('close', code => {\n            if (code > 0) {\n                reject(new Error('Exited with code ' + code));\n                return;\n            }\n            resolve(cp);\n        });\n    });\n}\nexports.default = open;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}