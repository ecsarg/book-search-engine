{"ast":null,"code":"'use strict';\n\nconst ansiEscapes = require('ansi-escapes');\n\nconst cliCursor = require('cli-cursor');\n\nconst wrapAnsi = require('wrap-ansi');\n\nconst getWidth = stream => {\n  const columns = stream.columns;\n\n  if (!columns) {\n    return 80;\n  } // Windows appears to wrap a character early\n  // I hate Windows so much\n\n\n  if (process.platform === 'win32') {\n    return columns - 1;\n  }\n\n  return columns;\n};\n\nconst main = (stream, options) => {\n  options = Object.assign({\n    showCursor: false\n  }, options);\n  let prevLineCount = 0;\n\n  const render = function () {\n    if (!options.showCursor) {\n      cliCursor.hide();\n    }\n\n    let out = [].join.call(arguments, ' ') + '\\n';\n    out = wrapAnsi(out, getWidth(stream), {\n      trim: false,\n      hard: true,\n      wordWrap: false\n    });\n    stream.write(ansiEscapes.eraseLines(prevLineCount) + out);\n    prevLineCount = out.split('\\n').length;\n  };\n\n  render.clear = () => {\n    stream.write(ansiEscapes.eraseLines(prevLineCount));\n    prevLineCount = 0;\n  };\n\n  render.done = () => {\n    prevLineCount = 0;\n\n    if (!options.showCursor) {\n      cliCursor.show();\n    }\n  };\n\n  return render;\n};\n\nmodule.exports = main(process.stdout);\nmodule.exports.stderr = main(process.stderr);\nmodule.exports.create = main;","map":{"version":3,"names":["ansiEscapes","require","cliCursor","wrapAnsi","getWidth","stream","columns","process","platform","main","options","Object","assign","showCursor","prevLineCount","render","hide","out","join","call","arguments","trim","hard","wordWrap","write","eraseLines","split","length","clear","done","show","module","exports","stdout","stderr","create"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/log-update/index.js"],"sourcesContent":["'use strict';\nconst ansiEscapes = require('ansi-escapes');\nconst cliCursor = require('cli-cursor');\nconst wrapAnsi = require('wrap-ansi');\n\nconst getWidth = stream => {\n\tconst columns = stream.columns;\n\n\tif (!columns) {\n\t\treturn 80;\n\t}\n\n\t// Windows appears to wrap a character early\n\t// I hate Windows so much\n\tif (process.platform === 'win32') {\n\t\treturn columns - 1;\n\t}\n\n\treturn columns;\n};\n\nconst main = (stream, options) => {\n\toptions = Object.assign({\n\t\tshowCursor: false\n\t}, options);\n\n\tlet prevLineCount = 0;\n\n\tconst render = function () {\n\t\tif (!options.showCursor) {\n\t\t\tcliCursor.hide();\n\t\t}\n\n\t\tlet out = [].join.call(arguments, ' ') + '\\n';\n\t\tout = wrapAnsi(out, getWidth(stream), {\n\t\t\ttrim: false,\n\t\t\thard: true,\n\t\t\twordWrap: false\n\t\t});\n\t\tstream.write(ansiEscapes.eraseLines(prevLineCount) + out);\n\t\tprevLineCount = out.split('\\n').length;\n\t};\n\n\trender.clear = () => {\n\t\tstream.write(ansiEscapes.eraseLines(prevLineCount));\n\t\tprevLineCount = 0;\n\t};\n\n\trender.done = () => {\n\t\tprevLineCount = 0;\n\n\t\tif (!options.showCursor) {\n\t\t\tcliCursor.show();\n\t\t}\n\t};\n\n\treturn render;\n};\n\nmodule.exports = main(process.stdout);\nmodule.exports.stderr = main(process.stderr);\nmodule.exports.create = main;\n"],"mappings":"AAAA;;AACA,MAAMA,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,YAAD,CAAzB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,WAAD,CAAxB;;AAEA,MAAMG,QAAQ,GAAGC,MAAM,IAAI;EAC1B,MAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;;EAEA,IAAI,CAACA,OAAL,EAAc;IACb,OAAO,EAAP;EACA,CALyB,CAO1B;EACA;;;EACA,IAAIC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;IACjC,OAAOF,OAAO,GAAG,CAAjB;EACA;;EAED,OAAOA,OAAP;AACA,CAdD;;AAgBA,MAAMG,IAAI,GAAG,CAACJ,MAAD,EAASK,OAAT,KAAqB;EACjCA,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;IACvBC,UAAU,EAAE;EADW,CAAd,EAEPH,OAFO,CAAV;EAIA,IAAII,aAAa,GAAG,CAApB;;EAEA,MAAMC,MAAM,GAAG,YAAY;IAC1B,IAAI,CAACL,OAAO,CAACG,UAAb,EAAyB;MACxBX,SAAS,CAACc,IAAV;IACA;;IAED,IAAIC,GAAG,GAAG,GAAGC,IAAH,CAAQC,IAAR,CAAaC,SAAb,EAAwB,GAAxB,IAA+B,IAAzC;IACAH,GAAG,GAAGd,QAAQ,CAACc,GAAD,EAAMb,QAAQ,CAACC,MAAD,CAAd,EAAwB;MACrCgB,IAAI,EAAE,KAD+B;MAErCC,IAAI,EAAE,IAF+B;MAGrCC,QAAQ,EAAE;IAH2B,CAAxB,CAAd;IAKAlB,MAAM,CAACmB,KAAP,CAAaxB,WAAW,CAACyB,UAAZ,CAAuBX,aAAvB,IAAwCG,GAArD;IACAH,aAAa,GAAGG,GAAG,CAACS,KAAJ,CAAU,IAAV,EAAgBC,MAAhC;EACA,CAbD;;EAeAZ,MAAM,CAACa,KAAP,GAAe,MAAM;IACpBvB,MAAM,CAACmB,KAAP,CAAaxB,WAAW,CAACyB,UAAZ,CAAuBX,aAAvB,CAAb;IACAA,aAAa,GAAG,CAAhB;EACA,CAHD;;EAKAC,MAAM,CAACc,IAAP,GAAc,MAAM;IACnBf,aAAa,GAAG,CAAhB;;IAEA,IAAI,CAACJ,OAAO,CAACG,UAAb,EAAyB;MACxBX,SAAS,CAAC4B,IAAV;IACA;EACD,CAND;;EAQA,OAAOf,MAAP;AACA,CApCD;;AAsCAgB,MAAM,CAACC,OAAP,GAAiBvB,IAAI,CAACF,OAAO,CAAC0B,MAAT,CAArB;AACAF,MAAM,CAACC,OAAP,CAAeE,MAAf,GAAwBzB,IAAI,CAACF,OAAO,CAAC2B,MAAT,CAA5B;AACAH,MAAM,CAACC,OAAP,CAAeG,MAAf,GAAwB1B,IAAxB"},"metadata":{},"sourceType":"script"}