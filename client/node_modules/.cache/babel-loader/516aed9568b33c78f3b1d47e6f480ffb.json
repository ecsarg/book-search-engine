{"ast":null,"code":"var common = require('./common');\n\nvar fs = require('fs');\n\ncommon.register('test', _test, {\n  cmdOptions: {\n    'b': 'block',\n    'c': 'character',\n    'd': 'directory',\n    'e': 'exists',\n    'f': 'file',\n    'L': 'link',\n    'p': 'pipe',\n    'S': 'socket'\n  },\n  wrapOutput: false,\n  allowGlobbing: false\n}); //@\n//@ ### test(expression)\n//@\n//@ Available expression primaries:\n//@\n//@ + `'-b', 'path'`: true if path is a block device\n//@ + `'-c', 'path'`: true if path is a character device\n//@ + `'-d', 'path'`: true if path is a directory\n//@ + `'-e', 'path'`: true if path exists\n//@ + `'-f', 'path'`: true if path is a regular file\n//@ + `'-L', 'path'`: true if path is a symbolic link\n//@ + `'-p', 'path'`: true if path is a pipe (FIFO)\n//@ + `'-S', 'path'`: true if path is a socket\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ if (test('-d', path)) { /* do something with dir */ };\n//@ if (!test('-f', path)) continue; // skip if it's a regular file\n//@ ```\n//@\n//@ Evaluates `expression` using the available primaries and returns corresponding value.\n\nfunction _test(options, path) {\n  if (!path) common.error('no path given');\n  var canInterpret = false;\n  Object.keys(options).forEach(function (key) {\n    if (options[key] === true) {\n      canInterpret = true;\n    }\n  });\n  if (!canInterpret) common.error('could not interpret expression');\n\n  if (options.link) {\n    try {\n      return common.statNoFollowLinks(path).isSymbolicLink();\n    } catch (e) {\n      return false;\n    }\n  }\n\n  if (!fs.existsSync(path)) return false;\n  if (options.exists) return true;\n  var stats = common.statFollowLinks(path);\n  if (options.block) return stats.isBlockDevice();\n  if (options.character) return stats.isCharacterDevice();\n  if (options.directory) return stats.isDirectory();\n  if (options.file) return stats.isFile();\n  /* istanbul ignore next */\n\n  if (options.pipe) return stats.isFIFO();\n  /* istanbul ignore next */\n\n  if (options.socket) return stats.isSocket();\n  /* istanbul ignore next */\n\n  return false; // fallback\n} // test\n\n\nmodule.exports = _test;","map":{"version":3,"names":["common","require","fs","register","_test","cmdOptions","wrapOutput","allowGlobbing","options","path","error","canInterpret","Object","keys","forEach","key","link","statNoFollowLinks","isSymbolicLink","e","existsSync","exists","stats","statFollowLinks","block","isBlockDevice","character","isCharacterDevice","directory","isDirectory","file","isFile","pipe","isFIFO","socket","isSocket","module","exports"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/shelljs/src/test.js"],"sourcesContent":["var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('test', _test, {\n  cmdOptions: {\n    'b': 'block',\n    'c': 'character',\n    'd': 'directory',\n    'e': 'exists',\n    'f': 'file',\n    'L': 'link',\n    'p': 'pipe',\n    'S': 'socket',\n  },\n  wrapOutput: false,\n  allowGlobbing: false,\n});\n\n\n//@\n//@ ### test(expression)\n//@\n//@ Available expression primaries:\n//@\n//@ + `'-b', 'path'`: true if path is a block device\n//@ + `'-c', 'path'`: true if path is a character device\n//@ + `'-d', 'path'`: true if path is a directory\n//@ + `'-e', 'path'`: true if path exists\n//@ + `'-f', 'path'`: true if path is a regular file\n//@ + `'-L', 'path'`: true if path is a symbolic link\n//@ + `'-p', 'path'`: true if path is a pipe (FIFO)\n//@ + `'-S', 'path'`: true if path is a socket\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ if (test('-d', path)) { /* do something with dir */ };\n//@ if (!test('-f', path)) continue; // skip if it's a regular file\n//@ ```\n//@\n//@ Evaluates `expression` using the available primaries and returns corresponding value.\nfunction _test(options, path) {\n  if (!path) common.error('no path given');\n\n  var canInterpret = false;\n  Object.keys(options).forEach(function (key) {\n    if (options[key] === true) {\n      canInterpret = true;\n    }\n  });\n\n  if (!canInterpret) common.error('could not interpret expression');\n\n  if (options.link) {\n    try {\n      return common.statNoFollowLinks(path).isSymbolicLink();\n    } catch (e) {\n      return false;\n    }\n  }\n\n  if (!fs.existsSync(path)) return false;\n\n  if (options.exists) return true;\n\n  var stats = common.statFollowLinks(path);\n\n  if (options.block) return stats.isBlockDevice();\n\n  if (options.character) return stats.isCharacterDevice();\n\n  if (options.directory) return stats.isDirectory();\n\n  if (options.file) return stats.isFile();\n\n  /* istanbul ignore next */\n  if (options.pipe) return stats.isFIFO();\n\n  /* istanbul ignore next */\n  if (options.socket) return stats.isSocket();\n\n  /* istanbul ignore next */\n  return false; // fallback\n} // test\nmodule.exports = _test;\n"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AAEAD,MAAM,CAACG,QAAP,CAAgB,MAAhB,EAAwBC,KAAxB,EAA+B;EAC7BC,UAAU,EAAE;IACV,KAAK,OADK;IAEV,KAAK,WAFK;IAGV,KAAK,WAHK;IAIV,KAAK,QAJK;IAKV,KAAK,MALK;IAMV,KAAK,MANK;IAOV,KAAK,MAPK;IAQV,KAAK;EARK,CADiB;EAW7BC,UAAU,EAAE,KAXiB;EAY7BC,aAAa,EAAE;AAZc,CAA/B,E,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASH,KAAT,CAAeI,OAAf,EAAwBC,IAAxB,EAA8B;EAC5B,IAAI,CAACA,IAAL,EAAWT,MAAM,CAACU,KAAP,CAAa,eAAb;EAEX,IAAIC,YAAY,GAAG,KAAnB;EACAC,MAAM,CAACC,IAAP,CAAYL,OAAZ,EAAqBM,OAArB,CAA6B,UAAUC,GAAV,EAAe;IAC1C,IAAIP,OAAO,CAACO,GAAD,CAAP,KAAiB,IAArB,EAA2B;MACzBJ,YAAY,GAAG,IAAf;IACD;EACF,CAJD;EAMA,IAAI,CAACA,YAAL,EAAmBX,MAAM,CAACU,KAAP,CAAa,gCAAb;;EAEnB,IAAIF,OAAO,CAACQ,IAAZ,EAAkB;IAChB,IAAI;MACF,OAAOhB,MAAM,CAACiB,iBAAP,CAAyBR,IAAzB,EAA+BS,cAA/B,EAAP;IACD,CAFD,CAEE,OAAOC,CAAP,EAAU;MACV,OAAO,KAAP;IACD;EACF;;EAED,IAAI,CAACjB,EAAE,CAACkB,UAAH,CAAcX,IAAd,CAAL,EAA0B,OAAO,KAAP;EAE1B,IAAID,OAAO,CAACa,MAAZ,EAAoB,OAAO,IAAP;EAEpB,IAAIC,KAAK,GAAGtB,MAAM,CAACuB,eAAP,CAAuBd,IAAvB,CAAZ;EAEA,IAAID,OAAO,CAACgB,KAAZ,EAAmB,OAAOF,KAAK,CAACG,aAAN,EAAP;EAEnB,IAAIjB,OAAO,CAACkB,SAAZ,EAAuB,OAAOJ,KAAK,CAACK,iBAAN,EAAP;EAEvB,IAAInB,OAAO,CAACoB,SAAZ,EAAuB,OAAON,KAAK,CAACO,WAAN,EAAP;EAEvB,IAAIrB,OAAO,CAACsB,IAAZ,EAAkB,OAAOR,KAAK,CAACS,MAAN,EAAP;EAElB;;EACA,IAAIvB,OAAO,CAACwB,IAAZ,EAAkB,OAAOV,KAAK,CAACW,MAAN,EAAP;EAElB;;EACA,IAAIzB,OAAO,CAAC0B,MAAZ,EAAoB,OAAOZ,KAAK,CAACa,QAAN,EAAP;EAEpB;;EACA,OAAO,KAAP,CAzC4B,CAyCd;AACf,C,CAAC;;;AACFC,MAAM,CAACC,OAAP,GAAiBjC,KAAjB"},"metadata":{},"sourceType":"script"}