{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Table = exports.ExitError = exports.Config = exports.ActionBase = exports.config = exports.cli = exports.ux = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nconst Errors = (0, tslib_1.__importStar)(require(\"@oclif/core/lib/errors\"));\nconst util = (0, tslib_1.__importStar)(require(\"util\"));\n\nconst base_1 = require(\"./action/base\");\n\nObject.defineProperty(exports, \"ActionBase\", {\n  enumerable: true,\n  get: function () {\n    return base_1.ActionBase;\n  }\n});\n\nconst config_1 = require(\"./config\");\n\nObject.defineProperty(exports, \"config\", {\n  enumerable: true,\n  get: function () {\n    return config_1.config;\n  }\n});\nObject.defineProperty(exports, \"Config\", {\n  enumerable: true,\n  get: function () {\n    return config_1.Config;\n  }\n});\nconst deps_1 = (0, tslib_1.__importDefault)(require(\"./deps\"));\n\nconst exit_1 = require(\"./exit\");\n\nObject.defineProperty(exports, \"ExitError\", {\n  enumerable: true,\n  get: function () {\n    return exit_1.ExitError;\n  }\n});\nconst Table = (0, tslib_1.__importStar)(require(\"./styled/table\"));\nexports.Table = Table;\n\nfunction timeout(p, ms) {\n  function wait(ms, unref = false) {\n    return new Promise(resolve => {\n      const t = setTimeout(() => resolve(null), ms);\n      if (unref) t.unref();\n    });\n  }\n\n  return Promise.race([p, wait(ms, true).then(() => exports.ux.error('timed out'))]);\n}\n\nasync function flush() {\n  const p = new Promise(resolve => {\n    process.stdout.once('drain', () => resolve(null));\n  });\n  process.stdout.write('');\n  return p;\n}\n\nexports.ux = {\n  config: config_1.config,\n  warn: Errors.warn,\n  error: Errors.error,\n  exit: Errors.exit,\n\n  get prompt() {\n    return deps_1.default.prompt.prompt;\n  },\n\n  /**\n   * \"press anykey to continue\"\n   */\n  get anykey() {\n    return deps_1.default.prompt.anykey;\n  },\n\n  get confirm() {\n    return deps_1.default.prompt.confirm;\n  },\n\n  get action() {\n    return config_1.config.action;\n  },\n\n  get prideAction() {\n    return config_1.config.prideAction;\n  },\n\n  styledObject(obj, keys) {\n    exports.ux.info(deps_1.default.styledObject(obj, keys));\n  },\n\n  get styledHeader() {\n    return deps_1.default.styledHeader;\n  },\n\n  get styledJSON() {\n    return deps_1.default.styledJSON;\n  },\n\n  get table() {\n    return deps_1.default.table;\n  },\n\n  get tree() {\n    return deps_1.default.tree;\n  },\n\n  get open() {\n    return deps_1.default.open;\n  },\n\n  get wait() {\n    return deps_1.default.wait;\n  },\n\n  get progress() {\n    return deps_1.default.progress;\n  },\n\n  async done() {\n    config_1.config.action.stop(); // await flushStdout()\n  },\n\n  trace(format, ...args) {\n    if (this.config.outputLevel === 'trace') {\n      process.stdout.write(util.format(format, ...args) + '\\n');\n    }\n  },\n\n  debug(format, ...args) {\n    if (['trace', 'debug'].includes(this.config.outputLevel)) {\n      process.stdout.write(util.format(format, ...args) + '\\n');\n    }\n  },\n\n  info(format, ...args) {\n    process.stdout.write(util.format(format, ...args) + '\\n');\n  },\n\n  log(format, ...args) {\n    this.info(format || '', ...args);\n  },\n\n  url(text, uri, params = {}) {\n    const supports = require('supports-hyperlinks');\n\n    if (supports.stdout) {\n      const hyperlinker = require('hyperlinker');\n\n      this.log(hyperlinker(text, uri, params));\n    } else {\n      this.log(uri);\n    }\n  },\n\n  annotation(text, annotation) {\n    const supports = require('supports-hyperlinks');\n\n    if (supports.stdout) {\n      // \\u001b]8;;https://google.com\\u0007sometext\\u001b]8;;\\u0007\n      this.log(`\\u001B]1337;AddAnnotation=${text.length}|${annotation}\\u0007${text}`);\n    } else {\n      this.log(text);\n    }\n  },\n\n  async flush() {\n    await timeout(flush(), 10000);\n  }\n\n};\nexports.default = exports.ux;\nexports.cli = exports.ux;\n\nconst cliuxProcessExitHandler = async () => {\n  try {\n    await exports.ux.done();\n  } catch (error) {\n    // tslint:disable no-console\n    console.error(error);\n    process.exitCode = 1;\n  }\n}; // to avoid MaxListenersExceededWarning\n// only attach named listener once\n\n\nconst cliuxListener = process.listeners('exit').find(fn => fn.name === cliuxProcessExitHandler.name);\n\nif (!cliuxListener) {\n  process.once('exit', cliuxProcessExitHandler);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","Table","ExitError","Config","ActionBase","config","cli","ux","tslib_1","require","Errors","__importStar","util","base_1","enumerable","get","config_1","deps_1","__importDefault","exit_1","timeout","p","ms","wait","unref","Promise","resolve","t","setTimeout","race","then","error","flush","process","stdout","once","write","warn","exit","prompt","default","anykey","confirm","action","prideAction","styledObject","obj","keys","info","styledHeader","styledJSON","table","tree","open","progress","done","stop","trace","format","args","outputLevel","debug","includes","log","url","text","uri","params","supports","hyperlinker","annotation","length","cliuxProcessExitHandler","console","exitCode","cliuxListener","listeners","find","fn","name"],"sources":["/Users/Ellie/Desktop/projects/book-search-engine/client/node_modules/cli-ux/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Table = exports.ExitError = exports.Config = exports.ActionBase = exports.config = exports.cli = exports.ux = void 0;\nconst tslib_1 = require(\"tslib\");\nconst Errors = (0, tslib_1.__importStar)(require(\"@oclif/core/lib/errors\"));\nconst util = (0, tslib_1.__importStar)(require(\"util\"));\nconst base_1 = require(\"./action/base\");\nObject.defineProperty(exports, \"ActionBase\", { enumerable: true, get: function () { return base_1.ActionBase; } });\nconst config_1 = require(\"./config\");\nObject.defineProperty(exports, \"config\", { enumerable: true, get: function () { return config_1.config; } });\nObject.defineProperty(exports, \"Config\", { enumerable: true, get: function () { return config_1.Config; } });\nconst deps_1 = (0, tslib_1.__importDefault)(require(\"./deps\"));\nconst exit_1 = require(\"./exit\");\nObject.defineProperty(exports, \"ExitError\", { enumerable: true, get: function () { return exit_1.ExitError; } });\nconst Table = (0, tslib_1.__importStar)(require(\"./styled/table\"));\nexports.Table = Table;\nfunction timeout(p, ms) {\n    function wait(ms, unref = false) {\n        return new Promise(resolve => {\n            const t = setTimeout(() => resolve(null), ms);\n            if (unref)\n                t.unref();\n        });\n    }\n    return Promise.race([p, wait(ms, true).then(() => exports.ux.error('timed out'))]);\n}\nasync function flush() {\n    const p = new Promise(resolve => {\n        process.stdout.once('drain', () => resolve(null));\n    });\n    process.stdout.write('');\n    return p;\n}\nexports.ux = {\n    config: config_1.config,\n    warn: Errors.warn,\n    error: Errors.error,\n    exit: Errors.exit,\n    get prompt() {\n        return deps_1.default.prompt.prompt;\n    },\n    /**\n     * \"press anykey to continue\"\n     */\n    get anykey() {\n        return deps_1.default.prompt.anykey;\n    },\n    get confirm() {\n        return deps_1.default.prompt.confirm;\n    },\n    get action() {\n        return config_1.config.action;\n    },\n    get prideAction() {\n        return config_1.config.prideAction;\n    },\n    styledObject(obj, keys) {\n        exports.ux.info(deps_1.default.styledObject(obj, keys));\n    },\n    get styledHeader() {\n        return deps_1.default.styledHeader;\n    },\n    get styledJSON() {\n        return deps_1.default.styledJSON;\n    },\n    get table() {\n        return deps_1.default.table;\n    },\n    get tree() {\n        return deps_1.default.tree;\n    },\n    get open() {\n        return deps_1.default.open;\n    },\n    get wait() {\n        return deps_1.default.wait;\n    },\n    get progress() {\n        return deps_1.default.progress;\n    },\n    async done() {\n        config_1.config.action.stop();\n        // await flushStdout()\n    },\n    trace(format, ...args) {\n        if (this.config.outputLevel === 'trace') {\n            process.stdout.write(util.format(format, ...args) + '\\n');\n        }\n    },\n    debug(format, ...args) {\n        if (['trace', 'debug'].includes(this.config.outputLevel)) {\n            process.stdout.write(util.format(format, ...args) + '\\n');\n        }\n    },\n    info(format, ...args) {\n        process.stdout.write(util.format(format, ...args) + '\\n');\n    },\n    log(format, ...args) {\n        this.info(format || '', ...args);\n    },\n    url(text, uri, params = {}) {\n        const supports = require('supports-hyperlinks');\n        if (supports.stdout) {\n            const hyperlinker = require('hyperlinker');\n            this.log(hyperlinker(text, uri, params));\n        }\n        else {\n            this.log(uri);\n        }\n    },\n    annotation(text, annotation) {\n        const supports = require('supports-hyperlinks');\n        if (supports.stdout) {\n            // \\u001b]8;;https://google.com\\u0007sometext\\u001b]8;;\\u0007\n            this.log(`\\u001B]1337;AddAnnotation=${text.length}|${annotation}\\u0007${text}`);\n        }\n        else {\n            this.log(text);\n        }\n    },\n    async flush() {\n        await timeout(flush(), 10000);\n    },\n};\nexports.default = exports.ux;\nexports.cli = exports.ux;\nconst cliuxProcessExitHandler = async () => {\n    try {\n        await exports.ux.done();\n    }\n    catch (error) {\n        // tslint:disable no-console\n        console.error(error);\n        process.exitCode = 1;\n    }\n};\n// to avoid MaxListenersExceededWarning\n// only attach named listener once\nconst cliuxListener = process.listeners('exit').find(fn => fn.name === cliuxProcessExitHandler.name);\nif (!cliuxListener) {\n    process.once('exit', cliuxProcessExitHandler);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}